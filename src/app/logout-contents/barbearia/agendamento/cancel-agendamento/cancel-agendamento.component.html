<app-barbearia-header [barbearia]="barbearia"></app-barbearia-header>

<div class="col-12" style="background-color: black;">
    <div class="row justify-content-md-center">
        <div class="col-sm-4 col-12">
            <div class="col-12 text-center">
                <h2 class="fs-title mb-3">CANCELAMENTO</h2>
            </div>

            <!-- IDENTIFICACAO -->
            <form [formGroup]="identificacao" id="msform" *ngIf="!hasAgendamentos">
                <fieldset>
                    <input type="text" formControlName="telefone" name="telefone" placeholder="Seu telefone"
                        class="form-control ng-untouched ng-pristine ng-valid mt-3" mask="(00) 0*" maxlength="20"
                        minlength="11" />
                    <app-error-msg [control]="identificacao.get('telefone')" label="Telefone"></app-error-msg>

                    <button (click)="getAgendamentoByCelular()" type="button" class="action-button mt-3"
                        [disabled]="!identificacao.valid">Buscar meus agendamentos</button>
                </fieldset>
            </form>


            <div class="col-12 mt-3" style="background-color: white;"
                *ngFor="let agendamento of agendamentos; trackBy: trackById">
                <div class="row">
                    <h5 class="text-center mb-3 mt-3">{{agendamento.servico}}</h5>
                </div>
                <div class="row">
                    <div class="col-12">
                        <table class="table table-borderless">
                            <tbody>
                                <tr>
                                    <td>Data</td>
                                    <td>{{agendamento.dataHora | date:"dd/MM/yyyy"}}</td>
                                </tr>
                                <tr>
                                    <td>Hor√°rio</td>
                                    <td>{{agendamento.dataHora | date:"HH:mm"}}</td>
                                </tr>
                                <tr>
                                    <td>Profissional</td>
                                    <td>{{agendamento.profissional}}</td>
                                </tr>
                                <tr>
                                    <td>Valor</td>
                                    <td>{{agendamento.valor | currency:'R$ '}}</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div class="row text-center">
                    <div class="col-12">
                        <button (click)="previous()" type="button" class="previous action-button-previous mt-3">
                            Voltar
                        </button>
                        <button (click)="cancelar(agendamento.id)" type="button"
                            class="action-button-cancelar">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>